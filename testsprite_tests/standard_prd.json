{
  "meta": {
    "project": "Real Estate Management System",
    "date": "2025-09-26",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "The Real Estate Management System is a full-stack web application designed to facilitate comprehensive management of real estate properties, users, and interactions for agents, clients, and administrators. It delivers features for property listing management, user authentication, client-agent interaction, and advanced search capabilities, built on a robust technology stack for scalable and secure operations.",
  "core_goals": [
    "Enable agents and agencies to register, authenticate, and manage their profiles securely.",
    "Provide CRUD operations for real estate properties including image uploads for rich listings.",
    "Allow agents to manage their customer base with full create, read, update, and delete capabilities.",
    "Support scheduling and management of meetings and appointments between agents, customers, and properties.",
    "Facilitate property sharing from agents to customers enhancing client engagement and communication.",
    "Deliver push notifications and in-app notifications to keep users informed and engaged.",
    "Offer user preferences management allowing customization of settings and experience.",
    "Ensure a responsive and intuitive user interface for seamless user experience across devices."
  ],
  "key_features": [
    "Authentication API to manage agency and agent registrations, login, and session validation using JWT and bcrypt for security.",
    "Property Management API allowing full CRUD operations on property listings with support for image uploads using multer.",
    "Customer Management API to maintain customer records with full CRUD functionalities.",
    "Meeting Management API for handling property meeting scheduling, updates, and status changes.",
    "Property Sharing API enabling agents to share properties with customers and manage access.",
    "Notification System API managing push and in-app notifications with subscription support.",
    "User Management API for handling user profiles and preferences.",
    "Preferences API to retrieve and update user settings and preferences.",
    "Advanced search and filtering capability based on criteria like location, price, size, and property type.",
    "Responsive UI built with Next.js and React ensuring modern and consistent user experience across devices."
  ],
  "user_flow_summary": [
    "User registration and login flow for agencies and agents secured with JWT tokens and password hashing.",
    "Agents perform CRUD operations to create, update, read, and delete property listings including uploading images.",
    "Agents manage customer data including adding new customers, updating records, retrieving lists, and deleting if necessary.",
    "Scheduling meetings involves agents linking customers and properties with date and notes, with capabilities to update details and status.",
    "Agents share property listings with customers by sending tailored messages and managing shared access.",
    "Users receive notifications through push and in-app messages, with abilities to subscribe or unsubscribe from push notifications.",
    "Users access and update their preferences and profile information via secure authenticated endpoints.",
    "Clients search properties using various filters and save favorites, while agents manage their listings and profiles.",
    "System administrators deploy and maintain the application with environment configurations and concurrent running of frontend/backend.",
    "Users interact with a responsive frontend UI that updates in real-time as changes are made or data is fetched."
  ],
  "validation_criteria": [
    "Successful user registration and login returning expected HTTP status codes and JWT tokens.",
    "Property CRUD operations correctly handle image uploads and return accurate success/error responses.",
    "Customer records management supports all CRUD operations through authenticated requests.",
    "Meeting scheduling and updates persist correct data and allow status updates without errors.",
    "Property sharing API successfully shares properties and records these actions.",
    "Notifications are delivered in real-time with correct subscription management and retrieval.",
    "User profiles and preferences are correctly fetched and updated securely.",
    "Frontend UI renders correctly across devices with responsive design verified.",
    "API endpoints have proper authentication and authorization checks in place.",
    "Error cases and edge scenarios return meaningful error messages and status codes to clients."
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "Node.js",
      "Express.js",
      "MongoDB",
      "Mongoose",
      "JWT",
      "bcryptjs",
      "multer",
      "cors",
      "morgan",
      "node-cron"
    ],
    "features": [
      {
        "name": "Authentication API",
        "description": "Handles user registration, login, and session management for agencies and agents",
        "files": [
          "src/routes/Authentication/index.js",
          "src/controllers/Authentication/authController.js",
          "src/middleware/authMiddleware.js",
          "src/utils/generateToken.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Authentication API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/auth/register-agency": {
              "post": {
                "summary": "Register a new agency",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "fullName": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          },
                          "agencyName": {
                            "type": "string"
                          },
                          "agencySlug": {
                            "type": "string"
                          },
                          "phone": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Agency registered successfully"
                  },
                  "400": {
                    "description": "Bad request"
                  }
                }
              }
            },
            "/api/auth/login": {
              "post": {
                "summary": "Login user",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Login successful"
                  },
                  "401": {
                    "description": "Invalid credentials"
                  }
                }
              }
            },
            "/api/auth/check-session": {
              "get": {
                "summary": "Check user session",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Session valid"
                  },
                  "401": {
                    "description": "Unauthorized"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Property Management API",
        "description": "CRUD operations for real estate properties with image upload support",
        "files": [
          "src/routes/Agent/Property/index.js",
          "src/controllers/Agent/PropertyController.js",
          "src/models/Agent/PropertyModel.js",
          "src/utils/multerConfig.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Property Management API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/properties": {
              "get": {
                "summary": "Get all properties",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Properties retrieved successfully"
                  }
                }
              },
              "post": {
                "summary": "Create a new property",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "price": {
                            "type": "number"
                          },
                          "property_type": {
                            "type": "string"
                          },
                          "location": {
                            "type": "string"
                          },
                          "images": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "format": "binary"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Property created successfully"
                  },
                  "400": {
                    "description": "Bad request"
                  }
                }
              }
            },
            "/api/properties/{id}": {
              "get": {
                "summary": "Get single property",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Property retrieved successfully"
                  }
                }
              },
              "put": {
                "summary": "Update property",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "price": {
                            "type": "number"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Property updated successfully"
                  }
                }
              },
              "delete": {
                "summary": "Delete property",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Property deleted successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Customer Management API",
        "description": "CRUD operations for managing real estate customers",
        "files": [
          "src/routes/Agent/Customer/index.js",
          "src/controllers/Agent/CustomerController.js",
          "src/models/Agent/CustomerModel.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Customer Management API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/agent/customers/create": {
              "post": {
                "summary": "Create a new customer",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "phone": {
                            "type": "string"
                          },
                          "address": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Customer created successfully"
                  }
                }
              }
            },
            "/api/agent/customers/get-all": {
              "get": {
                "summary": "Get all customers",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Customers retrieved successfully"
                  }
                }
              }
            },
            "/api/agent/customers/update/{id}": {
              "put": {
                "summary": "Update customer",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Customer updated successfully"
                  }
                }
              }
            },
            "/api/agent/customers/delete/{id}": {
              "delete": {
                "summary": "Delete customer",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Customer deleted successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Meeting Management API",
        "description": "CRUD operations for managing property meetings and appointments",
        "files": [
          "src/routes/Agent/Meetings/index.js",
          "src/controllers/Agent/MeetingsController.js",
          "src/models/Agent/MeetingModel.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Meeting Management API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/agent/meetings/create": {
              "post": {
                "summary": "Create a new meeting",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "customerId": {
                            "type": "string"
                          },
                          "propertyId": {
                            "type": "string"
                          },
                          "meetingDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "notes": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Meeting created successfully"
                  }
                }
              }
            },
            "/api/agent/meetings/get-all": {
              "get": {
                "summary": "Get all meetings",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Meetings retrieved successfully"
                  }
                }
              }
            },
            "/api/agent/meetings/update/{id}": {
              "put": {
                "summary": "Update meeting",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Meeting updated successfully"
                  }
                }
              }
            },
            "/api/agent/meetings/update-status/{id}": {
              "put": {
                "summary": "Update meeting status",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Meeting status updated successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Property Sharing API",
        "description": "API for sharing properties with customers and managing shared property access",
        "files": [
          "src/routes/Agent/ShareProperty/index.js",
          "src/controllers/Agent/SharePropertyController.js",
          "src/models/Agent/PropertyShareModel.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Property Sharing API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/agent/shareProperties": {
              "post": {
                "summary": "Share property with customer",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "propertyId": {
                            "type": "string"
                          },
                          "customerId": {
                            "type": "string"
                          },
                          "message": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Property shared successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Notification System API",
        "description": "Push notifications and in-app notifications management",
        "files": [
          "src/routes/Common/Notifications/index.js",
          "src/controllers/common/notificationController.js",
          "src/models/Common/NotificationModel.js",
          "src/utils/pushService.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Notification System API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/common/notification": {
              "get": {
                "summary": "Get notifications",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Notifications retrieved successfully"
                  }
                }
              },
              "post": {
                "summary": "Create notification",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "201": {
                    "description": "Notification created successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Push Notification API",
        "description": "Web push notification subscription and management",
        "files": [
          "src/routes/Common/PushNotifications/index.js",
          "src/controllers/common/pushNotificationController.js",
          "src/models/Common/PushNotificationSubscription.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Push Notification API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/common/push-notification/subscribe": {
              "post": {
                "summary": "Subscribe to push notifications",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "endpoint": {
                            "type": "string"
                          },
                          "keys": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Subscription created successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "User Management API",
        "description": "User profile and preferences management",
        "files": [
          "src/routes/Common/User/index.js",
          "src/models/Common/UserModel.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "User Management API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/users": {
              "get": {
                "summary": "Get user profile",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "User profile retrieved successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Preferences API",
        "description": "User preferences and settings management",
        "files": [
          "src/routes/Common/Preference/index.js",
          "src/controllers/common/preferencesController.js",
          "src/models/Common/PreferenceModel.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Preferences API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/common/preferences": {
              "get": {
                "summary": "Get user preferences",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Preferences retrieved successfully"
                  }
                }
              },
              "post": {
                "summary": "Update user preferences",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Preferences updated successfully"
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
